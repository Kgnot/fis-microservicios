version: '3.8'

networks:
  fis-network:
    driver: bridge

services:
  auth:
    build: ./auth
    container_name: fis-auth
    ports:
      - "8080:8080"
    networks:
      - fis-network

  catalogo:
    build: ./catalogo
    container_name: fis-catalogo
    ports:
      - "8081:8081"
    networks:
      - fis-network

  contenido:
    build: ./contenido
    container_name: fis-contenido
    ports:
      - "8082:8082"
    networks:
      - fis-network

  email:
    build: ./email
    container_name: fis-email
    ports:
      - "8083:8083"
    networks:
      - fis-network

  filtrocontenido:
    build: ./filtrocontenido
    container_name: fis-filtrocontenido
    ports:
      - "8084:8084"
    networks:
      - fis-network

  foro:
    build: ./foro
    container_name: fis-foro
    ports:
      - "8085:8085"
    networks:
      - fis-network

  geo:
    build: ./geo
    container_name: fis-geo
    ports:
      - "8086:8086"
    networks:
      - fis-network

  mensajeria:
    build: ./mensajeria
    container_name: fis-mensajeria
    ports:
      - "8087:8087"
    networks:
      - fis-network

  moderacion:
    build: ./moderacion
    container_name: fis-moderacion
    ports:
      - "8088:8088"
    networks:
      - fis-network

  multimedia:
    build: ./multimedia
    container_name: fis-multimedia
    ports:
      - "8089:8089"
    networks:
      - fis-network

  noticia:
    build: ./noticia
    container_name: fis-noticia
    ports:
      - "8090:8090"
    networks:
      - fis-network

  pago:
    build: ./pago
    container_name: fis-pago
    ports:
      - "8091:8091"
    networks:
      - fis-network

  proveedor:
    build: ./proveedor
    container_name: fis-proveedor
    ports:
      - "8092:8092"
    networks:
      - fis-network

  usuario:
    build: ./usuario
    container_name: fis-usuario
    ports:
      - "8093:8093"
    networks:
      - fis-network

  vehiculo:
    build: ./vehiculo
    container_name: fis-vehiculo
    ports:
      - "8094:8094"
    networks:
      - fis-network

  nginx:
    image: nginx:alpine
    container_name: fis-nginx
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - auth
      - catalogo
      - contenido
      - email
      - filtrocontenido
      - foro
      - geo
      - mensajeria
      - moderacion
      - multimedia
      - noticia
      - pago
      - proveedor
      - usuario
      - vehiculo
    networks:
      - fis-network
